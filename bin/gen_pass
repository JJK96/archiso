#!/bin/bash

length=30
copy=false

while getopts l:c o
do
    case "$o" in
        l)      length="$OPTARG";;
        c)      copy=true;;
        [?])    echo "Usage: $0 [-c] [-l length]
    -c  Copy password to clipboard
    -l  Set password length"
        		exit 1;;
    esac
done
password=$(cat /dev/random | base64 | head -c $length)
if $copy; then
    echo "$password" | clip.exe
else
    echo "$password"
fi
